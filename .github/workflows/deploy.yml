name: Deploy to EC2

on:
  push:
    branches:
      - main  # Chạy khi có push lên nhánh main

jobs:
  build-and-deploy:
    runs-on: self-hosted

    steps:
      # Bước 1: Clone mã nguồn từ repository
      - name: Checkout source code
        uses: actions/checkout@v4

        # 2. Tạo thư mục cố định và sao chép mã nguồn vào đó
      - name: Check current directory
        run: pwd        

      # Bước 5: SSH vào EC2 và chạy Docker Compose
      # - name: Run docker-compose
      #   run: |
      #     cd /home/ubuntu/actions-runner/_work/Project_Booking_Tour_BE/Project_Booking_Tour_BE
      #     docker-compose down
      #     docker-compose up -d
          

